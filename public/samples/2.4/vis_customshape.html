<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VIS LEMISEABLES NETWORK</title>
</head>

<script type="text/javascript" src="/visexample/vis.js"></script>
<script type="text/javascript" src="./lesmiserables_node.js"></script>
<script type="text/javascript" src="./lesmiserables_edge.js"></script>
<link href="/visexample/vis.css" rel="stylesheet" type="text/css"/>

<body>
<div id="renderer" style="width:100%;height:600px"></div>
<!-- 렌더링 될 element 설정 -->
</body>


<script type="text/javascript">
    // create a network
    var container = document.getElementById('renderer');
    // lemiserables_node와 edge에 생성되어있는 데이터 변수를 data.nodes와 data.edges에 대입한다.

    for(var i = 0 ; i < edges.length ; i ++){
        if(nodes[edges[i].from].group == 1 ){
            edges[i].color = '#F00';
            edges[i].width = 6;
            edges[i].title = "FROM : " + edges[i].from + " TO : " + edges[i].to;
        } else {
            edges[i].color = '#BBB'
            edges[i].width = 0.2;
        }

    }

    //노드의 전체를 반복하면서 조건과 결과를 정의한다.
    for(var i = 0 ; i < nodes.length ; i ++){

        nodes[i].size = Math.random() * 10 + 10;
        // Group 1번과 2번을 triangle로 변경한다.
        if(nodes[i].group == 1 || nodes[i].group == 2) {
            nodes[i].shape = 'triangle';
            nodes[i].color = '#FA0';
        // 이외의 그룹은 노드의 색상을 하얀색으로 변경한다.
        } else {
            nodes[i].color = "#FFF";
        }
    }

    var data = {
        nodes: nodes,
        edges: edges,
        //nodes: new vis.DataSet(nodes),
        //edges: new vis.DataSet(edges),
    };
    var options = {
        nodes: {
            shape: 'dot',
            font: {
                size: 5,
                face: 'Lato',
            }
        },

        edges: {

            smooth: {
                "type": "horizontal",
                "forceDirection": "vertical"
            }
        },

    };
    var network = new vis.Network(container, data, options);

    //var allNodes = data.nodes.get({returnType: "Object"});
    //console.log(allNodes[0]);
    //allNodes[0].color = "#000";
    //updateNodeData();

    function updateNodeData() {
        var updateArray = [];
        for (nodeId in allNodes) {
            if (allNodes.hasOwnProperty(nodeId)) {
                updateArray.push(allNodes[nodeId]);
            }
        }
        data.nodes.update(updateArray);
        console.log(allNodes[0]);
    }


</script>

</html>